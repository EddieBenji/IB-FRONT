<div class="card">
  <div class="card-header">
    Buscador de estudiantes.
  </div>
  <div class="card-body">
    <form class="form-inline" (submit)="searchForStudents()">
      <div class="col-sm-2 col-md-2 col-lg-2">
        <div class="form-group">
          <input type="text" class="form-control" [(ngModel)]="searcher.first_name"
                 placeholder="Nombre(s)" name="first_name" maxlength="255">
        </div>
      </div>
      <div class="col-sm-2 col-md-2 col-lg-2">
        <div class="form-group">
          <input type="text" class="form-control" [(ngModel)]="searcher.last_name"
                 placeholder="Apellido(s)" name="last_name" maxlength="255">
        </div>
      </div>
      <div class="col-sm-2 col-md-2 col-lg-2">
        <div class="form-group">
          <input type="email" class="form-control" [(ngModel)]="searcher.email" placeholder="Correo"
                 maxlength="255" name="email">
        </div>
      </div>
      <div class="col-sm-2 col-md-2 col-lg-2">
        <div class="form-group">
          <label for="shift" class="col-form-label shift-label">Turno</label>
          <select id="shift" class="form-control" name="shift" [(ngModel)]="searcher.shift">
            <option value="">Todos</option>
            <option value="alternativo">Alternativo</option>
            <option value="escolarizado">Escolarizado</option>
          </select>
        </div>
      </div>

      <div class="col-sm-2 col-md-2 col-lg-2">
        <div class="form-group">
          <label for="gender" class="col-form-label shift-label">Género</label>
          <select id="gender" class="form-control" [(ngModel)]="searcher.gender" name="gender">
            <option value="">Todos</option>
            <option value="M">Masculino</option>
            <option value="F">Femenino</option>
          </select>
        </div>
      </div>

      <button type="submit" class="btn btn-primary"><span class="oi oi-magnifying-glass"></span> Buscar</button>

    </form>

    <button type="button" (click)="selectStudent(null, true)"
            class="click-here btn btn-primary offset-sm-10 offset-md-10 offset-lg-10 col-sm-1 col-md-1 col-lg-1">
      <span class="oi oi-plus"></span> Agregar
    </button>
    <br><br>

  </div>
</div>

<br><br>

<table *ngIf="!isLoading && students && students.length>0"
       class="table table-striped table-bordered table-hover">
  <thead>
  <tr>
    <th width="20%">Nombre(s)</th>
    <th width="20%">Apellido(s)</th>
    <th width="20%">Correo</th>
    <th width="10%">Edad</th>
    <th width="10%">Turno</th>
    <th width="10%">Género</th>
    <th width="10%">Opciones</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let student of students">
    <td>{{student.first_name}}</td>
    <td>{{student.last_name}}</td>
    <td>{{student.email}}</td>
    <td>{{student.age}}</td>
    <td>{{student.shift}}</td>
    <td>{{student.gender}}</td>
    <td>
      <span class="oi oi-eye" (click)="selectStudent(student, false)" title="Ver"></span>
      <span class="oi oi-pencil" (click)="selectStudent(student, true)" title="Editar"></span>
      <span class="oi oi-trash" (click)="deleteStudent(student)" title="Eliminar"></span>
    </td>
  </tr>
  </tbody>
</table>

<div class="progress" *ngIf="isLoading">
  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75"
       aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
</div>

<app-student-modal [display]="displayModal"
                   [student]="studentSelected"
                   [isEditing]="isEditing"
                   (onCloseModal)="onCloseStudentModal()">
</app-student-modal>
